

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <!-- jquery link -->
    <link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
    
    <!-- // ajax script -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://code.jquery.com/jquery-1.12.4.js"></script>
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
    <script>
        function error(err){
            alert(err).message;
        }
        function success(pos){
            //alert(`${pos.coords.latitude}`, `${pos.coords.longitude}`);
            var lat = pos.coords.latitude;
            var lon = pos.coords.longitude;
            // console.log(lat);
            // console.log(lon);
            jQuery.ajax({
                url:'setLatLong.php',
                data:'lat='+lat+'$lon='+lon,
                type:'post',
                success:function(result){
                    window.location.href="location.html"
                }
            });
        }
        //var x = document.getElementById('demo');
        function getLocation() {
            if (navigator.geolocation) {
                navigator.geolocation.getCurrentPosition(success,console.error());
            } else {
                x.innerHTML = "Geolocation is not supported by your browser";
            }
        }

        // function showPosition(position) {
        //     console.log(position);
        //     x.innerHTML = "latitude:" + position.coords.latitude + "<br>longitude: " + position.coords.longitude;
        // }
    </script>
</head>
<body onload="getLocation()">
    
</body>
</html>